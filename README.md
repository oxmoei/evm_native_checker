# EVMé“¾æ‰¹é‡åœ°å€ä½™é¢æŸ¥è¯¢å·¥å…·

è¿™æ˜¯ä¸€ä¸ªç”¨äºæ‰¹é‡æŸ¥è¯¢å¤šç§EVMå…¼å®¹é“¾åœ°å€åŸç”Ÿä»£å¸ä½™é¢çš„Pythonå·¥å…·ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ” æ‰¹é‡æŸ¥è¯¢å¤šä¸ªEVMåœ°å€çš„åŸç”Ÿä»£å¸ä½™é¢
- ğŸŒ æ”¯æŒå¤šç§EVMå…¼å®¹é“¾ï¼ˆä»¥å¤ªåŠã€BSCã€Polygonã€Arbitrumã€Optimismç­‰ï¼‰
- ğŸ“ æ”¯æŒä»æ–‡ä»¶è¯»å–åœ°å€åˆ—è¡¨
- âœ… è‡ªåŠ¨éªŒè¯åœ°å€æ ¼å¼
- ğŸ’¾ å°†æŸ¥è¯¢ç»“æœä¿å­˜ä¸ºJSONæˆ–CSVæ ¼å¼ï¼ˆé»˜è®¤åªä¿å­˜æœ‰ä½™é¢çš„åœ°å€ï¼‰
- ğŸ“Š æä¾›è¯¦ç»†çš„æŸ¥è¯¢ç»Ÿè®¡ä¿¡æ¯
- âš¡ æ”¯æŒè‡ªå®šä¹‰RPCèŠ‚ç‚¹
- ğŸ›¡ï¸ å†…ç½®é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶
- ğŸ”§ æ”¯æŒé“¾ç±»å‹è‡ªåŠ¨æ£€æµ‹
- ğŸ¨ ç¾åŒ–çš„æ—¥å¿—è¾“å‡ºï¼Œæ”¯æŒé¢œè‰²å’Œå›¾æ ‡

## å®‰è£…ä¾èµ–

### ä½¿ç”¨Poetryï¼ˆæ¨èï¼‰

```bash
# å®‰è£…Poetryï¼ˆå¦‚æœè¿˜æ²¡æœ‰å®‰è£…ï¼‰
curl -sSL https://install.python-poetry.org | python3 -

# å®‰è£…ä¾èµ–
poetry install --no-root
```



## ä½¿ç”¨æ–¹æ³•

### 1. å‡†å¤‡åœ°å€æ–‡ä»¶

åˆ›å»ºä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼ˆå¦‚ `addresses.txt`ï¼‰ï¼Œæ¯è¡Œä¸€ä¸ªEVMåœ°å€ï¼š

```
0xde0B295669a9FD93d5F28D9Ec85E40f4cb697BAe
0x28C6c06298d514Db089934071355E5743bf21d60
0xA090e606E30bD747d4E6245a1517EbE430F0057e
```

### 2. é…ç½®é“¾å’ŒRPCèŠ‚ç‚¹

#### ä½¿ç”¨é¢„å®šä¹‰é“¾ï¼ˆæ¨èï¼‰

```bash
# æŸ¥çœ‹æ”¯æŒçš„é“¾
poetry run eth-balance-checker --list-chains

# ä½¿ç”¨ç‰¹å®šé“¾
poetry run eth-balance-checker --chain ethereum --file addresses.txt
poetry run eth-balance-checker --chain bsc --file addresses.txt
poetry run eth-balance-checker --chain polygon --file addresses.txt
```

#### ä½¿ç”¨è‡ªå®šä¹‰RPCèŠ‚ç‚¹

```bash
# è‡ªå®šä¹‰RPCèŠ‚ç‚¹
poetry run evm-native-checker --rpc https://mainnet.infura.io/v3/YOUR-PROJECT-ID --file addresses.txt
```

#### æ”¯æŒçš„é“¾

- **Ethereum**: ä»¥å¤ªåŠä¸»ç½‘ (ETH)
- **BSC**: å¸å®‰æ™ºèƒ½é“¾ (BNB)
- **Polygon**: Polygonç½‘ç»œ (MATIC)
- **Arbitrum**: Arbitrum One (ETH)
- **Optimism**: Optimismç½‘ç»œ (ETH)
- **Avalanche**: Avalanche C-Chain (AVAX)
- **Fantom**: Fantom Opera (FTM)
- **Base**: Baseç½‘ç»œ (ETH)
- **Linea**: Lineaç½‘ç»œ (ETH)

### 3. è¿è¡Œè„šæœ¬

#### ä½¿ç”¨CLIå·¥å…·ï¼ˆæ¨èï¼‰

```bash
# æŸ¥çœ‹æ”¯æŒçš„é“¾
poetry run evm-native-checker --list-chains

# æŸ¥è¯¢å•ä¸ªåœ°å€
poetry run evm-native-checker --address 0xde0B295669a9FD93d5F28D9Ec85E40f4cb697BAe --chain ethereum

# æ‰¹é‡æŸ¥è¯¢ï¼ˆæŒ‡å®šé“¾ï¼‰
poetry run evm-native-checker --file addresses.txt --chain bsc

# æ‰¹é‡æŸ¥è¯¢ï¼ˆè‡ªå®šä¹‰RPCï¼‰
poetry run evm-native-checker --file addresses.txt --rpc https://mainnet.infura.io/v3/YOUR-PROJECT-ID

# å¯¼å‡ºä¸ºCSVæ ¼å¼ï¼ˆåªä¿å­˜æœ‰ä½™é¢çš„åœ°å€ï¼‰
poetry run evm-native-checker --file addresses.txt --chain polygon --format csv --output results.csv

# ä¿å­˜æ‰€æœ‰æŸ¥è¯¢ç»“æœï¼ˆåŒ…æ‹¬æ— ä½™é¢çš„åœ°å€ï¼‰
poetry run evm-native-checker --file addresses.txt --chain polygon --all-results --output all_results.json
```

#### ä½¿ç”¨Pythonè„šæœ¬ï¼ˆäº¤äº’å¼ï¼‰

```bash
poetry run python check.py
```

è„šæœ¬ä¼šå¼•å¯¼æ‚¨å®Œæˆä»¥ä¸‹é…ç½®ï¼š
1. **RPCèŠ‚ç‚¹é…ç½®**ï¼šé€‰æ‹©é¢„å®šä¹‰é“¾æˆ–è¾“å…¥è‡ªå®šä¹‰RPC URL
2. **é“¾é€‰æ‹©**ï¼šä»æ”¯æŒçš„é“¾åˆ—è¡¨ä¸­é€‰æ‹©
3. **æŸ¥è¯¢å»¶è¿Ÿ**ï¼šè®¾ç½®è¯·æ±‚é—´éš”æ—¶é—´
4. **æ–‡ä»¶è·¯å¾„**ï¼šæŒ‡å®šåœ°å€æ–‡ä»¶å’Œè¾“å‡ºæ–‡ä»¶è·¯å¾„

æˆ–è€…æŒ‡å®šè‡ªå®šä¹‰RPCèŠ‚ç‚¹ï¼š

```bash
poetry run python check.py "https://mainnet.infura.io/v3/YOUR-PROJECT-ID"
```

### 4. äº¤äº’å¼é…ç½®

è„šæœ¬ä¼šå¼•å¯¼æ‚¨å®Œæˆä»¥ä¸‹é…ç½®ï¼š

1. **RPCèŠ‚ç‚¹é…ç½®**ï¼š
   - é€‰æ‹©é¢„å®šä¹‰é“¾é…ç½®
   - æˆ–è¾“å…¥è‡ªå®šä¹‰RPC URL

2. **é“¾é€‰æ‹©**ï¼š
   - ä»æ”¯æŒçš„é“¾åˆ—è¡¨ä¸­é€‰æ‹©
   - æ”¯æŒæ•°å­—é€‰æ‹©æˆ–é“¾åç§°è¾“å…¥

3. **æŸ¥è¯¢å»¶è¿Ÿé…ç½®**ï¼š
   - è®¾ç½®è¯·æ±‚é—´éš”æ—¶é—´
   - å»ºè®®å€¼ï¼š0.1-0.5ç§’

4. **æ–‡ä»¶è·¯å¾„é…ç½®**ï¼š
   - åœ°å€æ–‡ä»¶è·¯å¾„ï¼ˆé»˜è®¤ï¼šaddresses.txtï¼‰
   - è¾“å‡ºæ–‡ä»¶è·¯å¾„ï¼ˆé»˜è®¤ï¼šbalance_results.jsonï¼‰
   - è‡ªåŠ¨ä¿å­˜æœ‰ä½™é¢çš„åœ°å€ï¼ˆæ— éœ€è¯¢é—®ï¼‰

## è¾“å‡ºæ ¼å¼

æŸ¥è¯¢ç»“æœå°†ä¿å­˜ä¸ºJSONæˆ–CSVæ ¼å¼ï¼Œé»˜è®¤åªä¿å­˜æœ‰ä½™é¢çš„åœ°å€ã€‚åŒ…å«ä»¥ä¸‹ä¿¡æ¯ï¼š

```json
[
  {
    "address": "0xde0B295669a9FD93d5F28D9Ec85E40f4cb697BAe",
    "balance_wei": "1000000000000000000",
    "balance_native": 1.0,
    "symbol": "ETH",
    "status": "success"
  },
  {
    "address": "0x28C6c06298d514Db089934071355E5743bf21d60",
    "balance_wei": "5000000000000000000",
    "balance_native": 5.0,
    "symbol": "BNB",
    "status": "success"
  },
  {
    "address": "0x1234567890123456789012345678901234567890",
    "balance_wei": 0,
    "balance_native": 0,
    "symbol": "ETH",
    "status": "invalid_address",
    "error": "æ— æ•ˆçš„EVMåœ°å€æ ¼å¼"
  }
]
```

## æ³¨æ„äº‹é¡¹

1. **RPCèŠ‚ç‚¹é™åˆ¶**ï¼šå…è´¹RPCèŠ‚ç‚¹é€šå¸¸æœ‰è¯·æ±‚é¢‘ç‡é™åˆ¶ï¼Œè„šæœ¬å†…ç½®äº†å»¶è¿Ÿæœºåˆ¶
2. **åœ°å€æ ¼å¼**ï¼šæ”¯æŒå¸¦0xå‰ç¼€å’Œä¸å¸¦å‰ç¼€çš„åœ°å€æ ¼å¼
3. **é”™è¯¯å¤„ç†**ï¼šè„šæœ¬ä¼šè‡ªåŠ¨å¤„ç†æ— æ•ˆåœ°å€å’Œç½‘ç»œé”™è¯¯
4. **æ–‡ä»¶ç¼–ç **ï¼šå»ºè®®ä½¿ç”¨UTF-8ç¼–ç ä¿å­˜åœ°å€æ–‡ä»¶
5. **å¤šé“¾æ”¯æŒ**ï¼šæ”¯æŒæ‰€æœ‰EVMå…¼å®¹é“¾ï¼Œè‡ªåŠ¨è¯†åˆ«é“¾ç±»å‹å’Œä»£å¸ç¬¦å·
6. **é“¾é…ç½®**ï¼šå¯ä»¥è‡ªå®šä¹‰æ·»åŠ æ–°çš„é“¾é…ç½®
7. **æ™ºèƒ½è¿‡æ»¤**ï¼šè‡ªåŠ¨ä¿å­˜æœ‰ä½™é¢çš„åœ°å€ï¼Œå‡å°‘è¾“å‡ºæ–‡ä»¶å¤§å°

## ç¤ºä¾‹è¾“å‡º

```
ğŸš€ EVMé“¾æ‰¹é‡åœ°å€ä½™é¢æŸ¥è¯¢å·¥å…·
============================================================
  æ”¯æŒå¤šç§EVMå…¼å®¹é“¾çš„åŸç”Ÿä»£å¸ä½™é¢æŸ¥è¯¢
============================================================

ğŸ”§ RPCèŠ‚ç‚¹é…ç½®
------------------------------
è¯·é€‰æ‹©é…ç½®æ–¹å¼:
1. ä½¿ç”¨é¢„å®šä¹‰é“¾é…ç½®
2. è¾“å…¥è‡ªå®šä¹‰RPC URL

ğŸ“‹ å¯ç”¨çš„é“¾
------------------------------
  ğŸŒ ä¸»ç½‘:
    â€¢ 1. ethereum: Ethereum (ETH)
    â€¢ 2. bsc: BNB Smart Chain (BNB)
    â€¢ 3. polygon: Polygon (MATIC)

âœ… æˆåŠŸè¿æ¥åˆ° BNB Smart Chain (BNB)
â„¹ï¸ RPC URL: https://bsc-dataseed1.binance.org

â±ï¸ æŸ¥è¯¢å»¶è¿Ÿé…ç½®
--------------------
â„¹ï¸ å»¶è¿Ÿæ—¶é—´ç”¨äºé¿å…è§¦å‘RPCèŠ‚ç‚¹çš„é¢‘ç‡é™åˆ¶
â„¹ï¸ å»ºè®®å€¼: 0.1-0.5ç§’

ğŸ” å¼€å§‹æ‰¹é‡æŸ¥è¯¢
------------------------------
â„¹ï¸ æ€»è®¡ 5 ä¸ªåœ°å€ï¼Œå»¶è¿Ÿ 0.2 ç§’
[â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 5/5 (100.0%) - 0x28C6c06298d514Db089934071355E5743bf21d60

ğŸ“Š æŸ¥è¯¢ç»“æœæ‘˜è¦
==================================================
  æ€»åœ°å€æ•°: 5
  æŸ¥è¯¢æˆåŠŸ: 4
  æ— æ•ˆåœ°å€: 1
  æŸ¥è¯¢é”™è¯¯: 0
  æ€»BNBä½™é¢: 1234.567890 BNB
==================================================

ğŸ’° æœ‰ä½™é¢çš„åœ°å€
------------------------------
  ğŸ’° 0xde0B295669a9FD93d5F28D9Ec85E40f4cb697BAe: 1000.000000 BNB
  ğŸ’° 0x28C6c06298d514Db089934071355E5743bf21d60: 234.567890 BNB

ğŸ’¾ ç»“æœå·²ä¿å­˜åˆ°: balance_results.json

============================================================
  ğŸ‰ æ‰¹é‡æŸ¥è¯¢å®Œæˆï¼
============================================================
```

## å¼€å‘

### ä»£ç æ ¼å¼åŒ–

```bash
# æ ¼å¼åŒ–ä»£ç 
poetry run black .

# æ£€æŸ¥ä»£ç é£æ ¼
poetry run flake8 .
```

### æ—¥å¿—ç¾åŒ–æ¼”ç¤º

```bash
# æŸ¥çœ‹ç¾åŒ–åçš„è¾“å‡ºæ•ˆæœ
poetry run python demo_logger.py
```

### æ„å»ºå’Œå‘å¸ƒ

```bash
# æ„å»ºåŒ…
poetry build

# å‘å¸ƒåˆ°PyPIï¼ˆéœ€è¦é…ç½®ï¼‰
poetry publish
```

## æ•…éšœæ’é™¤

### è¿æ¥é—®é¢˜
- æ£€æŸ¥RPCèŠ‚ç‚¹URLæ˜¯å¦æ­£ç¡®
- ç¡®è®¤ç½‘ç»œè¿æ¥æ­£å¸¸
- éªŒè¯APIå¯†é’¥æ˜¯å¦æœ‰æ•ˆ

### æƒé™é—®é¢˜
- ç¡®ä¿æœ‰è¯»å–åœ°å€æ–‡ä»¶çš„æƒé™
- ç¡®ä¿æœ‰å†™å…¥è¾“å‡ºæ–‡ä»¶çš„æƒé™

### æ€§èƒ½ä¼˜åŒ–
- å¯¹äºå¤§é‡åœ°å€ï¼Œå¯ä»¥è°ƒæ•´å»¶è¿Ÿæ—¶é—´
- è€ƒè™‘ä½¿ç”¨ä»˜è´¹RPCèŠ‚ç‚¹ä»¥è·å¾—æ›´å¥½çš„æ€§èƒ½

### Poetryç›¸å…³é—®é¢˜
- ç¡®ä¿å·²æ­£ç¡®å®‰è£…Poetry
- æ£€æŸ¥pyproject.tomlæ–‡ä»¶æ ¼å¼æ˜¯å¦æ­£ç¡®
- å°è¯•åˆ é™¤poetry.lockæ–‡ä»¶å¹¶é‡æ–°å®‰è£…ä¾èµ–
